pipeline {
  agent any

  parameters {
    stashedFile(name: 'JSONData')
    string(name: 'SECRET_PATH', defaultValue: '')
    validatingString(
      name: 'IP', 
      defaultValue: '10.', 
      regex: /^(10(\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])){3}\s?)+$,
      failedValidationMessage: 'Should not be empty and in range of ..., For multiple, separate by space', 
      description: 'IP or IPs'
    )
  }

  stages {
    stage('Prepare') {
      steps {
        script {
          echo "${params.IP}"
        }
      }
    }
  }
  post {
    always {
      script {
        cleanWs()
      }
    }
  }
}